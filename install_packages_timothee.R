packages <- c("adaptMCMC",
              "arrow",
              "BASS",
              "bslib",
              "car",
              "colorspace",
              "comprehenr",
              "concordance",
              "data.table",
              "devtools",
              "github::mingdeyu/dgpsi-R",
              "doFuture",
              "dplyr",
              "eaf",
              "feather",
              "flock",
              "future.apply",
              "geojsonsf",
              "geosphere",
              "GGally",
              "ggmap",
              "ggplot2",
              "ggpubr",
              "glue",
              "gsubfn",
              "htmltools",
              "httr",
              "jsonlite",
              "leaflet",
              "leaflet.extras",
              "leaflet.minicharts",
              "lhs",
              "lwgeom",
              "magrittr",
              "manipulateWidget",
              "mapview",
              "MASS",
              "mclust",
              "mgcv",
              "mvtnorm",
              "pkgload",
              "plotly",
              "plumber",
              "progress",
              "progressr",
              "promises",
              "purrr",
              "raster",
              "reactlog",
              "readr",
              "rjson",
              "github::mbinois/RRembo",
              "rstudioapi",
              "Rtsne",
              "sensitivity",
              "seriation",
              "sf",
              "shiny",
              "shiny.fluent",
              "shinycssloaders",
              "shinyjqui",
              "shinyjs",
              "shinyWidgets",
              "sp",
              "testthat",
              "tidyverse",
              "truncnorm",
              "units",
              "uuid",
              "viridis",
              "webshot",
              "zipfR")
to_install <- sapply(packages, function(x) {
  return(system.file(package = x) == "")
})
if (any(to_install)) {
  pak::pkg_install(packages[to_install],
                   ask = FALSE,
                   upgrade = FALSE)
}
